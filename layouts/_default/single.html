{{ define "main" }}
<article class="terminal-window">
    <header class="mb-8">
        <div class="terminal-prompt mb-4">
            <span class="text-matrix-bright-green">$</span> cat {{ .File.LogicalName }}
        </div>
        
        <h1 class="text-3xl font-bold mb-4 matrix-text">{{ .Title }}</h1>
        
        <div class="flex flex-wrap items-center gap-4 text-sm text-terminal-muted mb-6">
            <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}" class="flex items-center">
                <span class="text-matrix-green mr-1">[</span>
                {{ .Date.Format "2006-01-02 15:04" }}
                <span class="text-matrix-green ml-1">]</span>
            </time>
            
            {{ if .Lastmod }}
            <time datetime="{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}" class="flex items-center">
                <span class="text-matrix-green mr-1">[</span>
                updated: {{ .Lastmod.Format "2006-01-02" }}
                <span class="text-matrix-green ml-1">]</span>
            </time>
            {{ end }}
            
            {{ if .ReadingTime }}
            <span class="text-terminal-muted">
                <span class="text-matrix-green">read:</span> {{ .ReadingTime }} min
            </span>
            {{ end }}
            
            {{ if .WordCount }}
            <span class="text-terminal-muted">
                <span class="text-matrix-green">words:</span> {{ .WordCount }}
            </span>
            {{ end }}
        </div>
        
        {{ if .Params.tags }}
        <div class="flex items-center gap-2 mb-6">
            <span class="text-matrix-green text-sm">tags:</span>
            {{ range .Params.tags }}
            <a href="{{ "tags" | relURL }}/{{ . | urlize }}" class="hacker-link text-sm hover:text-glow">
                {{ . }}
            </a>
            {{ end }}
        </div>
        {{ end }}
    </header>
    
    <div class="prose prose-invert max-w-none">
        {{ .Content }}
    </div>
    
    {{ if .Params.tags }}
    <footer class="mt-8 pt-6 border-t border-matrix-green">
        <div class="flex flex-wrap items-center gap-2 text-sm">
            <span class="text-matrix-green">tagged:</span>
            {{ range .Params.tags }}
            <a href="{{ "tags" | relURL }}/{{ . | urlize }}" class="hacker-link hover:text-glow">
                {{ . }}
            </a>
            {{ end }}
        </div>
    </footer>
    {{ end }}
</article>

<!-- Navigation -->
<nav class="mt-8 flex justify-between">
    {{ with .PrevInSection }}
    <a href="{{ .Permalink }}" class="hacker-link hover:text-glow">
        <span class="terminal-prompt">← {{ .Title }}</span>
    </a>
    {{ else }}
    <span class="text-terminal-muted">
        <span class="terminal-prompt">← (none)</span>
    </span>
    {{ end }}
    
    {{ with .NextInSection }}
    <a href="{{ .Permalink }}" class="hacker-link hover:text-glow">
        <span class="terminal-prompt">{{ .Title }} →</span>
    </a>
    {{ else }}
    <span class="text-terminal-muted">
        <span class="terminal-prompt">(none) →</span>
    </span>
    {{ end }}
</nav>

<!-- Back to posts -->
<div class="mt-8 text-center">
    <a href="{{ "posts" | relURL }}" class="hacker-link hover:text-glow">
        <span class="terminal-prompt">cd ..</span>
    </a>
</div>
{{ end }}
