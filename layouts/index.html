{{ define "main" }}
<div class="mb-8">
    <div class="terminal-prompt mb-3">
        <span class="text-matrix-bright-green">$</span> whoami
    </div>
    
    <div class="text-matrix-green text-xl leading-relaxed">
        {{ if .Site.Params.welcome_message }}
        {{ .Site.Params.welcome_message }}
        {{ else }}
        Welcome to the Matrix. You are now part of the system.
        {{ end }}
    </div>
</div>

<div class="terminal-prompt mb-8">
    $
</div>

{{ if .Content }}
<div class="mb-8">
    <div class="terminal-prompt mb-3">
        <span class="text-matrix-bright-green">$</span> cat README.md
    </div>
    
    <div class="prose prose-invert max-w-none text-lg leading-relaxed">
        {{ .Content }}
    </div>
</div>

<div class="terminal-prompt mb-8">
    $
</div>
{{ end }}

<!-- Recent Posts -->
{{ $recentPosts := where .Site.RegularPages "Type" "posts" | first 5 }}
{{ if $recentPosts }}
<div class="mb-8">
    <div class="terminal-prompt mb-3">
        <span class="text-matrix-bright-green">$</span> ls -lt posts/ | head -5
    </div>
    
    <div class="space-y-3">
        {{ range $recentPosts }}
        <div class="flex flex-col md:flex-row md:items-center gap-3 md:gap-4">
            <time class="text-terminal-muted text-base whitespace-nowrap">
                {{ .Date.Format "2006-01-02" }}
            </time>
            <a href="{{ .Permalink }}" class="hacker-link flex-1 text-lg hover:underline hover:text-glow">
                {{ .Title }}
            </a>
            {{ if .ReadingTime }}
            <span class="text-terminal-muted text-base">
                {{ .ReadingTime }}min
            </span>
            {{ end }}
        </div>
        {{ end }}
    </div>
    
    <div class="mt-6">
        <a href="{{ "posts" | relURL }}" class="hacker-link hover:underline hover:text-glow">
            <span class="terminal-prompt text-lg">view all posts</span>
        </a>
    </div>
</div>

<div class="terminal-prompt mb-8">
    $
</div>
{{ end }}

<!-- System Status -->
<div class="mb-6">
    <div class="terminal-prompt mb-2">
        <span class="text-matrix-bright-green">$</span> systemctl status matrix
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
        <div>
            <span class="text-matrix-green">●</span> 
            <span class="text-terminal-muted">Matrix Status:</span> 
            <span class="text-matrix-green">Active</span>
        </div>
        <div>
            <span class="text-matrix-green">●</span> 
            <span class="text-terminal-muted">Posts:</span> 
            <span class="text-matrix-green">{{ len .Site.RegularPages }}</span>
        </div>
        <div>
            <span class="text-matrix-green">●</span> 
            <span class="text-terminal-muted">Last Update:</span> 
            <span class="text-matrix-green">{{ now.Format "2006-01-02 15:04" }}</span>
        </div>
        <div>
            <span class="text-matrix-green">●</span> 
            <span class="text-terminal-muted">Theme:</span> 
            <span class="text-matrix-green">n0d3</span>
        </div>
    </div>
</div>
{{ end }}
